{"ast":null,"code":"var _jsxFileName = \"E:\\\\Tuanh\\\\MERN Project Ecommerce\\\\frontend\\\\src\\\\component\\\\Product\\\\ProductDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport \"./ProductDetails.css\";\nimport Carousel from \"react-material-ui-carousel\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useAlert } from \"react-alert\";\nimport { Dialog, DialogActions, DialogContent, DialogTitle, Button } from \"@material-ui/core\";\nimport { Rating } from \"@material-ui/lab\";\nimport MetaData from \"../layout/MetaData\";\nimport Loader from \"../layout/Loader/Loader\";\nimport ReviewCard from \"./ReviewCard.js\";\nimport { clearErrors, getProductDetails // newReview,\n} from \"../../actions/productAction\"; // import { addItemsToCart } from \"../../actions/cartAction\";\n// import { NEW_REVIEW_RESET } from \"../../constants/productConstants\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductDetails = _ref => {\n  _s();\n\n  let {\n    match\n  } = _ref;\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const {\n    product,\n    loading,\n    error\n  } = useSelector(state => state.productDetails); // const { success, error: reviewError } = useSelector(\n  // \t(state) => state.newReview\n  // );\n\n  const options = {\n    size: \"large\",\n    value: product.ratings,\n    readOnly: true,\n    precision: 0.5\n  };\n  const [quantity, setQuantity] = useState(1);\n  const [open, setOpen] = useState(false);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState(\"\");\n\n  const increaseQuantity = () => {\n    if (product.Stock <= quantity) return;\n    const qty = quantity + 1;\n    setQuantity(qty);\n  };\n\n  const decreaseQuantity = () => {\n    if (1 >= quantity) return;\n    const qty = quantity - 1;\n    setQuantity(qty);\n  }; // const addToCartHandler = () => {\n  // \tdispatch(addItemsToCart(match.params.id, quantity));\n  // \talert.success(\"Item Added To Cart\");\n  // };\n\n\n  const submitReviewToggle = () => {\n    open ? setOpen(false) : setOpen(true);\n  }; // const reviewSubmitHandler = () => {\n  // \tconst myForm = new FormData();\n  // \tmyForm.set(\"rating\", rating);\n  // \tmyForm.set(\"comment\", comment);\n  // \tmyForm.set(\"productId\", match.params.id);\n  // \tdispatch(newReview(myForm));\n  // \tsetOpen(false);\n  // };\n\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    } // if (reviewError) {\n    // \talert.error(reviewError);\n    // \tdispatch(clearErrors());\n    // }\n    // if (success) {\n    // \talert.success(\"Review Submitted Successfully\");\n    // \tdispatch({ type: NEW_REVIEW_RESET });\n    // }\n\n\n    dispatch(getProductDetails(match.params.id)); // }, [dispatch, match.params.id, error, alert, reviewError, success]);\n  }, [dispatch, match.params.id, error, alert]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(MetaData, {\n        title: `${product.name} -- ECOMMERCE`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ProductDetails\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Carousel, {\n            children: product.images && product.images.map((item, i) => /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"CarouselImage\",\n              src: item.url,\n              alt: `${i} Slide`\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 10\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detailsBlock-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Product # \", product._id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detailsBlock-2\",\n            children: [/*#__PURE__*/_jsxDEV(Rating, { ...options\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detailsBlock-2-span\",\n              children: [\" \", \"(\", product.numOfReviews, \" Reviews)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detailsBlock-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: `₹${product.price}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detailsBlock-3-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detailsBlock-3-1-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: decreaseQuantity,\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  readOnly: true,\n                  type: \"number\",\n                  value: quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: increaseQuantity,\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: product.Stock < 1 ? true : false // onClick={addToCartHandler}\n                ,\n                children: \"Add to Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Status:\", /*#__PURE__*/_jsxDEV(\"b\", {\n                className: product.Stock < 1 ? \"redColor\" : \"greenColor\",\n                children: product.Stock < 1 ? \"OutOfStock\" : \"InStock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detailsBlock-4\",\n            children: [\"Description : \", /*#__PURE__*/_jsxDEV(\"p\", {\n              children: product.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: submitReviewToggle,\n            className: \"submitReview\",\n            children: \"Submit Review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"reviewsHeading\",\n        children: \"REVIEWS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        \"aria-labelledby\": \"simple-dialog-title\",\n        open: open,\n        onClose: submitReviewToggle,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: \"Submit Review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          className: \"submitDialog\",\n          children: [/*#__PURE__*/_jsxDEV(Rating, {\n            onChange: e => setRating(e.target.value),\n            value: rating,\n            size: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"submitDialogTextArea\",\n            cols: \"30\",\n            rows: \"5\",\n            value: comment,\n            onChange: e => setComment(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: submitReviewToggle,\n            color: \"secondary\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 6\n      }, this), product.reviews && product.reviews[0] ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reviews\",\n        children: product.reviews && product.reviews.map(review => /*#__PURE__*/_jsxDEV(ReviewCard, {\n          review: review\n        }, review._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 8\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 7\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"noReviews\",\n        children: \"No Reviews Yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ProductDetails, \"IijKnStomqjWX7KyRSlBF5oF1KQ=\", false, function () {\n  return [useDispatch, useAlert, useSelector];\n});\n\n_c = ProductDetails;\nexport default ProductDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"sources":["E:/Tuanh/MERN Project Ecommerce/frontend/src/component/Product/ProductDetails.js"],"names":["React","Fragment","useEffect","useState","Carousel","useSelector","useDispatch","useAlert","Dialog","DialogActions","DialogContent","DialogTitle","Button","Rating","MetaData","Loader","ReviewCard","clearErrors","getProductDetails","ProductDetails","match","dispatch","alert","product","loading","error","state","productDetails","options","size","value","ratings","readOnly","precision","quantity","setQuantity","open","setOpen","rating","setRating","comment","setComment","increaseQuantity","Stock","qty","decreaseQuantity","submitReviewToggle","params","id","name","images","map","item","i","url","_id","numOfReviews","price","description","e","target","reviews","review"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\r\nimport \"./ProductDetails.css\";\r\nimport Carousel from \"react-material-ui-carousel\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useAlert } from \"react-alert\";\r\nimport {\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n\tButton,\r\n} from \"@material-ui/core\";\r\nimport { Rating } from \"@material-ui/lab\";\r\nimport MetaData from \"../layout/MetaData\";\r\nimport Loader from \"../layout/Loader/Loader\";\r\nimport ReviewCard from \"./ReviewCard.js\";\r\nimport {\r\n\tclearErrors,\r\n\tgetProductDetails,\r\n\t// newReview,\r\n} from \"../../actions/productAction\";\r\n// import { addItemsToCart } from \"../../actions/cartAction\";\r\n// import { NEW_REVIEW_RESET } from \"../../constants/productConstants\";\r\n\r\nconst ProductDetails = ({ match }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst alert = useAlert();\r\n\r\n\tconst { product, loading, error } = useSelector(\r\n\t\t(state) => state.productDetails\r\n\t);\r\n\r\n\t// const { success, error: reviewError } = useSelector(\r\n\t// \t(state) => state.newReview\r\n\t// );\r\n\t\r\n\tconst options = {\r\n\t\tsize: \"large\",\r\n\t\tvalue: product.ratings,\r\n\t\treadOnly: true,\r\n\t\tprecision: 0.5,\r\n\t};\r\n\r\n\tconst [quantity, setQuantity] = useState(1);\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [rating, setRating] = useState(0);\r\n\tconst [comment, setComment] = useState(\"\");\r\n\r\n\tconst increaseQuantity = () => {\r\n\t\tif (product.Stock <= quantity) return;\r\n\t\tconst qty = quantity + 1;\r\n\t\tsetQuantity(qty);\r\n\t};\r\n\r\n\tconst decreaseQuantity = () => {\r\n\t\tif (1 >= quantity) return;\r\n\t\tconst qty = quantity - 1;\r\n\t\tsetQuantity(qty);\r\n\t};\r\n\r\n\t// const addToCartHandler = () => {\r\n\t// \tdispatch(addItemsToCart(match.params.id, quantity));\r\n\t// \talert.success(\"Item Added To Cart\");\r\n\t// };\r\n\r\n\tconst submitReviewToggle = () => {\r\n\t\topen ? setOpen(false) : setOpen(true);\r\n\t};\r\n\r\n\t// const reviewSubmitHandler = () => {\r\n\t// \tconst myForm = new FormData();\r\n\t// \tmyForm.set(\"rating\", rating);\r\n\t// \tmyForm.set(\"comment\", comment);\r\n\t// \tmyForm.set(\"productId\", match.params.id);\r\n\t// \tdispatch(newReview(myForm));\r\n\t// \tsetOpen(false);\r\n\t// };\r\n\r\n\tuseEffect(() => {\r\n\t\tif (error) {\r\n\t\t\talert.error(error);\r\n\t\t\tdispatch(clearErrors());\r\n\t\t}\r\n\t\t// if (reviewError) {\r\n\t\t// \talert.error(reviewError);\r\n\t\t// \tdispatch(clearErrors());\r\n\t\t// }\r\n\t\t// if (success) {\r\n\t\t// \talert.success(\"Review Submitted Successfully\");\r\n\t\t// \tdispatch({ type: NEW_REVIEW_RESET });\r\n\t\t// }\r\n\t\tdispatch(getProductDetails(match.params.id));\r\n\t// }, [dispatch, match.params.id, error, alert, reviewError, success]);\r\n\t}, [dispatch, match.params.id, error, alert]);\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<MetaData title={`${product.name} -- ECOMMERCE`} />\r\n\t\t\t\t\t<div className=\"ProductDetails\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Carousel>\r\n\t\t\t\t\t\t\t\t{product.images &&\r\n\t\t\t\t\t\t\t\tproduct.images.map((item, i) => (\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"CarouselImage\"\r\n\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\tsrc={item.url}\r\n\t\t\t\t\t\t\t\t\talt={`${i} Slide`}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Carousel>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"detailsBlock-1\">\r\n\t\t\t\t\t\t\t\t<h2>{product.name}</h2>\r\n\t\t\t\t\t\t\t\t<p>Product # {product._id}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"detailsBlock-2\">\r\n\t\t\t\t\t\t\t\t<Rating {...options} />\r\n\t\t\t\t\t\t\t\t<span className=\"detailsBlock-2-span\">\r\n\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t({product.numOfReviews} Reviews)\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"detailsBlock-3\">\r\n\t\t\t\t\t\t\t\t<h1>{`₹${product.price}`}</h1>\r\n\t\t\t\t\t\t\t\t<div className=\"detailsBlock-3-1\">\r\n\t\t\t\t\t\t\t\t<div className=\"detailsBlock-3-1-1\">\r\n\t\t\t\t\t\t\t\t\t<button onClick={decreaseQuantity}>-</button>\r\n\t\t\t\t\t\t\t\t\t<input readOnly type=\"number\" value={quantity} />\r\n\t\t\t\t\t\t\t\t\t<button onClick={increaseQuantity}>+</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tdisabled={product.Stock < 1 ? true : false}\r\n\t\t\t\t\t\t\t\t\t// onClick={addToCartHandler}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAdd to Cart\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tStatus:\r\n\t\t\t\t\t\t\t\t\t<b className={product.Stock < 1 ? \"redColor\" : \"greenColor\"}>\r\n\t\t\t\t\t\t\t\t\t\t{product.Stock < 1 ? \"OutOfStock\" : \"InStock\"}\r\n\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"detailsBlock-4\">\r\n\t\t\t\t\t\t\t\tDescription : <p>{product.description}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button onClick={submitReviewToggle} className=\"submitReview\">\r\n\t\t\t\t\t\t\t\tSubmit Review\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<h3 className=\"reviewsHeading\">REVIEWS</h3>\r\n\t\t\t\t\t<Dialog\r\n\t\t\t\t\t\taria-labelledby=\"simple-dialog-title\"\r\n\t\t\t\t\t\topen={open}\r\n\t\t\t\t\t\tonClose={submitReviewToggle}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DialogTitle>Submit Review</DialogTitle>\r\n\t\t\t\t\t\t<DialogContent className=\"submitDialog\">\r\n\t\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\t\tonChange={(e) => setRating(e.target.value)}\r\n\t\t\t\t\t\t\t\tvalue={rating}\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tclassName=\"submitDialogTextArea\"\r\n\t\t\t\t\t\t\t\tcols=\"30\"\r\n\t\t\t\t\t\t\t\trows=\"5\"\r\n\t\t\t\t\t\t\t\tvalue={comment}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setComment(e.target.value)}\r\n\t\t\t\t\t\t\t></textarea>\r\n\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t<Button onClick={submitReviewToggle} color=\"secondary\">\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t{/* <Button onClick={reviewSubmitHandler} color=\"primary\">\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t</Dialog>\r\n\t\t\t\t\t{product.reviews && product.reviews[0] ? (\r\n\t\t\t\t\t\t<div className=\"reviews\">\r\n\t\t\t\t\t\t{product.reviews &&\r\n\t\t\t\t\t\t\tproduct.reviews.map((review) => (\r\n\t\t\t\t\t\t\t<ReviewCard key={review._id} review={review} />\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p className=\"noReviews\">No Reviews Yet</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport default ProductDetails\r\n"]},"metadata":{},"sourceType":"module"}